function RING = ALS_U_AR_v4_FINAL
	
	global FAMLIST 
	FAMLIST = cell(0);
	
	disp('** Loading ALS_U AR lattice **');
	
	E0 = 2.00e+09;
	L0 = 182.12195100;
	C0 = 299792458;
	HarmNumber = 304;
	
	
 	%% Cavity        Name  L     U[V]       f(Hz)                 h        passmethod
	CAV = rfcavity('CAV', 0, 1.20000e+06, HarmNumber*C0/L0, HarmNumber, 'CavityPass');
	
	%% MARKERs
	SECT     = @(name) marker(sprintf('SECT%d',name),  'IdentityPass');
	BPM      = marker('BPM'   ,'IdentityPass');
	GIRDER   = marker('GIRDER','IdentityPass');
	SECSTART = marker('SECTIONSTART','IdentityPass');
	SECEND   = marker('SECTIONEND','IdentityPass');
	NLK      = marker('NLK'   ,'IdentityPass');
	INJ      = marker('INJ'   ,'IdentityPass');
	
	%% DRIFT SPACES
	L1      = @(length) drift('L1',length, 'DriftPass');
	L1end   = drift('L1',    0.11960922,   'DriftPass');
	Lround  = drift('L1',    0.38039078,   'DriftPass');
	LKICK   = drift('KICKER',1,            'DriftPass');
	LSEPTUM = drift('SEPTUM',1.8,          'DriftPass');
	L2a     = drift('L2a',   0.35548000,   'DriftPass');
	L2b     = drift('L2b',   0.08902000,   'DriftPass');
	L3      = drift('L3' ,   0.11400000,   'DriftPass');
	L4a     = drift('L4' ,   0.11750000/2, 'DriftPass');
	L5a     = drift('L5a',   0.14298200,   'DriftPass');
	L5b     = drift('L5b',   0.10571600,   'DriftPass');
	L6      = drift('L6' ,   0.21569930,   'DriftPass');
	L7a     = drift('L7',    0.118784,     'DriftPass');
	L7b     = drift('L7',    0.105716,     'DriftPass');
	L8a     = drift('L8' ,   0.12450000/2, 'DriftPass');
	L9a     = drift('L9a',   0.31184400,   'DriftPass');
	L9b     = drift('L9b',   0.17885410,   'DriftPass');
	
	%% QUADRUPOLES
	QF  = @(subName,ID) quadrupole(sprintf('AR:%s:QF:%d' ,subName,ID),  0.34400000,   2.13879800,  'StrMPoleSymplectic4RadPass');
	QD  = @(subName,ID) quadrupole(sprintf('AR:%s:QD:%d' ,subName,ID),  0.18700000,  -0.39507430,  'StrMPoleSymplectic4RadPass');
	QFA = @(subName,ID) quadrupole(sprintf('AR:%s:QFA:%d',subName,ID),  0.44800000,   3.60765700,  'StrMPoleSymplectic4RadPass');
	
	%% DIPOLES
	BEND = @(subName,ID) sbend(sprintf('AR:%s:BEND:%d',subName,ID),   0.86514000,  0.17453293, 0.08726646,  0.08726646,   -1.20965300,  'BndMPoleSymplectic4RadPass');
	
	%% SEXTUPOLES
	SF  = @(subName,ID) sextupole(sprintf('AR:%s:SF:%d' ,subName,ID),  0.20300000,   89.76507533,  'StrMPoleSymplectic4RadPass');
	SD  = @(subName,ID) sextupole(sprintf('AR:%s:SD:%d' ,subName,ID),  0.20300000,  -56.98535452,  'StrMPoleSymplectic4RadPass');
	SHF = @(subName,ID) sextupole(sprintf('AR:%s:SHF:%d',subName,ID),  0.20300000,   21.54638000,  'StrMPoleSymplectic4RadPass');
	SHD = @(subName,ID) sextupole(sprintf('AR:%s:SHD:%d',subName,ID),  0.20300000,  -21.74546000,  'StrMPoleSymplectic4RadPass');
	
	%% INJECTION/EXTRACTION MAGNETS
	DK    = @(name) quadrupole(name   , 0.3       , 0,  'StrMPoleSymplectic4RadPass');
	Vkick =         quadrupole('Vkick', 0.58039078, 0,  'StrMPoleSymplectic4RadPass');

	%% Define arc section layout
	SUP = @(subName) [ ...
		SECSTART GIRDER BPM L1end ...
		SHF(subName,1) ...
		GIRDER GIRDER ...
		L2a L2b ...
		QF(subName,1) ...
		L3 ...
		SHD(subName,1) ...
		L4a BPM L4a ...
		QD(subName,1) ...
		L5a L5b ...
		GIRDER GIRDER ...
		BEND(subName,1) ...
		GIRDER GIRDER ...
		L6 ...
		SD(subName,1) ...
		L7a L7b ...
		QFA(subName,1) ...
		L8a BPM L8a ...
		SF(subName,1) ...
		L9a L9b ...
		GIRDER GIRDER ...
		BEND(subName,2) ...
		GIRDER GIRDER ...
		L9b L9a ...
		SF(subName,2) ...
		L8a BPM L8a ...
		QFA(subName,2) ...
		L7b L7a ...
		SD(subName,2) ...
		L6 ...
		GIRDER GIRDER ...
		BEND(subName,3) ...
		GIRDER GIRDER ...
		L5b L5a ...
		QD(subName,2) ...
		L4a BPM L4a ...
		SHD(subName,2) ...
		L3 ...
		QF(subName,2) ...
		GIRDER GIRDER ...
		L2b BPM L2a ...
		SHF(subName,2) ...
		L1end GIRDER SECEND ...
		 ];


	%% Define ring layout
	ELIST = [SECT(1)  L1(2.4) L1(0.21960922) LSEPTUM INJ Lround         SUP('01C') ...
		     SECT(2)  L1(3.81960922)     DK('DK') L1(0.1) NLK Vkick     SUP('02C') ...
			 SECT(3)  L1(2.4) L1(2.4)                                   SUP('03C') ...
			 SECT(4)  L1(2.4) L1(2.4)                                   SUP('04C')  ...
			 SECT(5)  L1(2.4) L1(2.4)                                   SUP('05C')  ...
			 SECT(6)  L1(2.4) L1(2.4)                                   SUP('06C') ...
			 SECT(7)  L1(4.11960922)     DK('preDK')  Lround            SUP('07C') ...
			 SECT(8)  L1(2.4) L1(2.4)                                   SUP('08C') ...
			 SECT(9)  L1(2.4) L1(2.4)                                   SUP('09C') ...
			 SECT(10) L1(2.4) L1(2.4)                                   SUP('10C') ...
			 SECT(11) L1(2.4)            CAV L1(2.4)                    SUP('11C') ...
			 SECT(12) L1(1.4)            LKICK  LKICK L1(1.4)           SUP('12C')];
		
	
	% Locate function output
	RING=cell(size(ELIST));
	for i=1:length(RING)
		RING{i}        = FAMLIST{ELIST(i)}.ElemData;
		RING{i}.Energy = E0;
	end

end
